function e(e,o,r,t){Object.defineProperty(e,o,{get:r,set:t,enumerable:!0,configurable:!0})}var o=globalThis.parcelRequire2757,r=o.register;r("brE3Z",function(r,t){e(r.exports,"confirmResetPassword",()=>o("1XYd7").confirmResetPassword),e(r.exports,"confirmSignUp",()=>o("c7Zwg").confirmSignUp),e(r.exports,"getCurrentUser",()=>o("2yfk2").getCurrentUser),e(r.exports,"resendSignUpCode",()=>o("8XrSp").resendSignUpCode),e(r.exports,"resetPassword",()=>o("hPpH6").resetPassword),e(r.exports,"signIn",()=>o("aqcy4").signIn),e(r.exports,"signOut",()=>o("eARfH").signOut),e(r.exports,"signUp",()=>o("xBcsQ").signUp),o("1XYd7"),o("c7Zwg"),o("2yfk2"),o("8XrSp"),o("hPpH6"),o("aqcy4"),o("eARfH"),o("xBcsQ")}),r("1XYd7",function(r,t){e(r.exports,"confirmResetPassword",()=>P);var n=o("1qbEC"),i=o("bfiP6"),s=o("k2DuP"),a=o("ewkqX"),l=o("7XpgE"),d=o("aEls4"),C=o("7fUr4"),u=o("7Ww7D"),p=o("eAu1N"),g=o("hXC67");async function P(e){let o=n.Amplify.getConfig().Auth?.Cognito;(0,i.assertTokenProviderConfig)(o);let{userPoolClientId:r,userPoolId:t,userPoolEndpoint:P}=o,{username:c,newPassword:f}=e;(0,l.assertValidationError)(!!c,a.AuthValidationErrorCode.EmptyConfirmResetPasswordUsername),(0,l.assertValidationError)(!!f,a.AuthValidationErrorCode.EmptyConfirmResetPasswordNewPassword);let m=e.confirmationCode;(0,l.assertValidationError)(!!m,a.AuthValidationErrorCode.EmptyConfirmResetPasswordConfirmationCode);let U=e.options?.clientMetadata,E=(0,C.getUserContextData)({username:c,userPoolId:t,userPoolClientId:r}),A=(0,u.createConfirmForgotPasswordClient)({endpointResolver:(0,p.createCognitoUserPoolEndpointResolver)({endpointOverride:P})});await A({region:(0,g.getRegionFromUserPoolId)(o.userPoolId),userAgentValue:(0,d.getAuthUserAgentValue)(s.AuthAction.ConfirmResetPassword)},{Username:c,ConfirmationCode:m,Password:f,ClientMetadata:U,ClientId:o.userPoolClientId,UserContextData:E})}}),r("7Ww7D",function(r,t){e(r.exports,"createConfirmForgotPasswordClient",()=>d);var n=o("6vbP8"),i=o("bdRfK"),s=o("2qp1o"),a=o("7OD1Z"),l=o("luL8F");let d=e=>(0,n.composeServiceApi)(i.cognitoUserPoolTransferHandler,(0,s.createUserPoolSerializer)("ConfirmForgotPassword"),(0,a.createUserPoolDeserializer)(),{...l.DEFAULT_SERVICE_CLIENT_API_CONFIG,...e})}),r("c7Zwg",function(r,t){e(r.exports,"confirmSignUp",()=>m);var n=o("1qbEC"),i=o("bfiP6"),s=o("k2DuP"),a=o("5RCQ5"),l=o("7XpgE"),d=o("ewkqX"),C=o("hXC67"),u=o("aEls4"),p=o("7fUr4"),g=o("kDFKP"),P=o("eAu1N"),c=o("5XcLh"),f=o("epZMx");async function m(e){let{username:o,confirmationCode:r,options:t}=e,m=n.Amplify.getConfig().Auth?.Cognito;(0,i.assertTokenProviderConfig)(m);let{userPoolId:U,userPoolClientId:E,userPoolEndpoint:A}=m,I=t?.clientMetadata;(0,l.assertValidationError)(!!o,d.AuthValidationErrorCode.EmptyConfirmSignUpUsername),(0,l.assertValidationError)(!!r,d.AuthValidationErrorCode.EmptyConfirmSignUpCode);let S=(0,p.getUserContextData)({username:o,userPoolId:U,userPoolClientId:E}),v=(0,g.createConfirmSignUpClient)({endpointResolver:(0,P.createCognitoUserPoolEndpointResolver)({endpointOverride:A})}),{Session:D}=await v({region:(0,C.getRegionFromUserPoolId)(m.userPoolId),userAgentValue:(0,u.getAuthUserAgentValue)(s.AuthAction.ConfirmSignUp)},{Username:o,ConfirmationCode:r,ClientMetadata:I,ForceAliasCreation:t?.forceAliasCreation,ClientId:m.userPoolClientId,UserContextData:S});return new Promise((e,r)=>{try{let r={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},t=c.autoSignInStore.getState();if(!t.active||t.username!==o){e(r),(0,f.resetAutoSignIn)();return}c.autoSignInStore.dispatch({type:"SET_SESSION",value:D});let n=a.HubInternal.listen("auth-internal",({payload:o})=>{"autoSignIn"===o.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),n())});a.HubInternal.dispatch("auth-internal",{event:"confirmSignUp",data:r})}catch(e){r(e)}})}}),r("kDFKP",function(r,t){e(r.exports,"createConfirmSignUpClient",()=>d);var n=o("6vbP8"),i=o("luL8F"),s=o("bdRfK"),a=o("2qp1o"),l=o("7OD1Z");let d=e=>(0,n.composeServiceApi)(s.cognitoUserPoolTransferHandler,(0,a.createUserPoolSerializer)("ConfirmSignUp"),(0,l.createUserPoolDeserializer)(),{...i.DEFAULT_SERVICE_CLIENT_API_CONFIG,...e})}),r("8XrSp",function(r,t){e(r.exports,"resendSignUpCode",()=>P);var n=o("1qbEC"),i=o("bfiP6"),s=o("k2DuP"),a=o("7XpgE"),l=o("ewkqX"),d=o("hXC67"),C=o("aEls4"),u=o("7fUr4"),p=o("foJAH"),g=o("eAu1N");async function P(e){let{username:o}=e;(0,a.assertValidationError)(!!o,l.AuthValidationErrorCode.EmptySignUpUsername);let r=n.Amplify.getConfig().Auth?.Cognito;(0,i.assertTokenProviderConfig)(r);let{userPoolClientId:t,userPoolId:P,userPoolEndpoint:c}=r,f=e.options?.clientMetadata,m=(0,u.getUserContextData)({username:o,userPoolId:P,userPoolClientId:t}),U=(0,p.createResendConfirmationCodeClient)({endpointResolver:(0,g.createCognitoUserPoolEndpointResolver)({endpointOverride:c})}),{CodeDeliveryDetails:E}=await U({region:(0,d.getRegionFromUserPoolId)(r.userPoolId),userAgentValue:(0,C.getAuthUserAgentValue)(s.AuthAction.ResendSignUpCode)},{Username:o,ClientMetadata:f,ClientId:r.userPoolClientId,UserContextData:m}),{DeliveryMedium:A,AttributeName:I,Destination:S}={...E};return{destination:S,deliveryMedium:A,attributeName:I||void 0}}}),r("foJAH",function(r,t){e(r.exports,"createResendConfirmationCodeClient",()=>d);var n=o("6vbP8"),i=o("bdRfK"),s=o("2qp1o"),a=o("7OD1Z"),l=o("luL8F");let d=e=>(0,n.composeServiceApi)(i.cognitoUserPoolTransferHandler,(0,s.createUserPoolSerializer)("ResendConfirmationCode"),(0,a.createUserPoolDeserializer)(),{...l.DEFAULT_SERVICE_CLIENT_API_CONFIG,...e})}),r("hPpH6",function(r,t){e(r.exports,"resetPassword",()=>P);var n=o("1qbEC"),i=o("bfiP6"),s=o("k2DuP"),a=o("ewkqX"),l=o("7XpgE"),d=o("hXC67"),C=o("aEls4"),u=o("7fUr4"),p=o("2NBLh"),g=o("eAu1N");async function P(e){let{username:o}=e;(0,l.assertValidationError)(!!o,a.AuthValidationErrorCode.EmptyResetPasswordUsername);let r=n.Amplify.getConfig().Auth?.Cognito;(0,i.assertTokenProviderConfig)(r);let{userPoolClientId:t,userPoolId:P,userPoolEndpoint:c}=r,f=e.options?.clientMetadata,m=(0,u.getUserContextData)({username:o,userPoolId:P,userPoolClientId:t}),U=(0,p.createForgotPasswordClient)({endpointResolver:(0,g.createCognitoUserPoolEndpointResolver)({endpointOverride:c})}),E=(await U({region:(0,d.getRegionFromUserPoolId)(P),userAgentValue:(0,C.getAuthUserAgentValue)(s.AuthAction.ResetPassword)},{Username:o,ClientMetadata:f,ClientId:t,UserContextData:m})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:E?.DeliveryMedium,destination:E?.Destination,attributeName:E?.AttributeName}}}}}),r("2NBLh",function(r,t){e(r.exports,"createForgotPasswordClient",()=>d);var n=o("6vbP8"),i=o("bdRfK"),s=o("2qp1o"),a=o("7OD1Z"),l=o("luL8F");let d=e=>(0,n.composeServiceApi)(i.cognitoUserPoolTransferHandler,(0,s.createUserPoolSerializer)("ForgotPassword"),(0,a.createUserPoolDeserializer)(),{...l.DEFAULT_SERVICE_CLIENT_API_CONFIG,...e})});
//# sourceMappingURL=auth.14c631fa.js.map
