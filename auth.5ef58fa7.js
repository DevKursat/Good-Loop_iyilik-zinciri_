function e(e,t,o,r){Object.defineProperty(e,t,{get:o,set:r,enumerable:!0,configurable:!0})}var t=globalThis.parcelRequire2757,o=t.register;o("brE3Z",function(o,r){e(o.exports,"confirmResetPassword",()=>t("1XYd7").confirmResetPassword),e(o.exports,"confirmSignUp",()=>t("c7Zwg").confirmSignUp),e(o.exports,"getCurrentUser",()=>t("2yfk2").getCurrentUser),e(o.exports,"resendSignUpCode",()=>t("8XrSp").resendSignUpCode),e(o.exports,"resetPassword",()=>t("hPpH6").resetPassword),e(o.exports,"signIn",()=>t("aqcy4").signIn),e(o.exports,"signUp",()=>t("xBcsQ").signUp),t("1XYd7"),t("c7Zwg"),t("2yfk2"),t("8XrSp"),t("hPpH6"),t("aqcy4"),t("xBcsQ")}),o("c7Zwg",function(o,r){e(o.exports,"confirmSignUp",()=>P);var n=t("1qbEC"),i=t("bfiP6"),a=t("k2DuP"),s=t("5RCQ5"),l=t("7XpgE"),d=t("ewkqX"),p=t("hXC67"),u=t("aEls4"),C=t("7fUr4"),g=t("kDFKP"),c=t("eAu1N"),U=t("5XcLh"),f=t("epZMx");async function P(e){let{username:t,confirmationCode:o,options:r}=e,P=n.Amplify.getConfig().Auth?.Cognito;(0,i.assertTokenProviderConfig)(P);let{userPoolId:m,userPoolClientId:S,userPoolEndpoint:I}=P,E=r?.clientMetadata;(0,l.assertValidationError)(!!t,d.AuthValidationErrorCode.EmptyConfirmSignUpUsername),(0,l.assertValidationError)(!!o,d.AuthValidationErrorCode.EmptyConfirmSignUpCode);let A=(0,C.getUserContextData)({username:t,userPoolId:m,userPoolClientId:S}),v=(0,g.createConfirmSignUpClient)({endpointResolver:(0,c.createCognitoUserPoolEndpointResolver)({endpointOverride:I})}),{Session:h}=await v({region:(0,p.getRegionFromUserPoolId)(P.userPoolId),userAgentValue:(0,u.getAuthUserAgentValue)(a.AuthAction.ConfirmSignUp)},{Username:t,ConfirmationCode:o,ClientMetadata:E,ForceAliasCreation:r?.forceAliasCreation,ClientId:P.userPoolClientId,UserContextData:A});return new Promise((e,o)=>{try{let o={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},r=U.autoSignInStore.getState();if(!r.active||r.username!==t){e(o),(0,f.resetAutoSignIn)();return}U.autoSignInStore.dispatch({type:"SET_SESSION",value:h});let n=s.HubInternal.listen("auth-internal",({payload:t})=>{"autoSignIn"===t.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),n())});s.HubInternal.dispatch("auth-internal",{event:"confirmSignUp",data:o})}catch(e){o(e)}})}}),o("kDFKP",function(o,r){e(o.exports,"createConfirmSignUpClient",()=>d);var n=t("6vbP8"),i=t("luL8F"),a=t("bdRfK"),s=t("2qp1o"),l=t("7OD1Z");let d=e=>(0,n.composeServiceApi)(a.cognitoUserPoolTransferHandler,(0,s.createUserPoolSerializer)("ConfirmSignUp"),(0,l.createUserPoolDeserializer)(),{...i.DEFAULT_SERVICE_CLIENT_API_CONFIG,...e})}),o("8XrSp",function(o,r){e(o.exports,"resendSignUpCode",()=>c);var n=t("1qbEC"),i=t("bfiP6"),a=t("k2DuP"),s=t("7XpgE"),l=t("ewkqX"),d=t("hXC67"),p=t("aEls4"),u=t("7fUr4"),C=t("foJAH"),g=t("eAu1N");async function c(e){let{username:t}=e;(0,s.assertValidationError)(!!t,l.AuthValidationErrorCode.EmptySignUpUsername);let o=n.Amplify.getConfig().Auth?.Cognito;(0,i.assertTokenProviderConfig)(o);let{userPoolClientId:r,userPoolId:c,userPoolEndpoint:U}=o,f=e.options?.clientMetadata,P=(0,u.getUserContextData)({username:t,userPoolId:c,userPoolClientId:r}),m=(0,C.createResendConfirmationCodeClient)({endpointResolver:(0,g.createCognitoUserPoolEndpointResolver)({endpointOverride:U})}),{CodeDeliveryDetails:S}=await m({region:(0,d.getRegionFromUserPoolId)(o.userPoolId),userAgentValue:(0,p.getAuthUserAgentValue)(a.AuthAction.ResendSignUpCode)},{Username:t,ClientMetadata:f,ClientId:o.userPoolClientId,UserContextData:P}),{DeliveryMedium:I,AttributeName:E,Destination:A}={...S};return{destination:A,deliveryMedium:I,attributeName:E||void 0}}}),o("foJAH",function(o,r){e(o.exports,"createResendConfirmationCodeClient",()=>d);var n=t("6vbP8"),i=t("bdRfK"),a=t("2qp1o"),s=t("7OD1Z"),l=t("luL8F");let d=e=>(0,n.composeServiceApi)(i.cognitoUserPoolTransferHandler,(0,a.createUserPoolSerializer)("ResendConfirmationCode"),(0,s.createUserPoolDeserializer)(),{...l.DEFAULT_SERVICE_CLIENT_API_CONFIG,...e})});
//# sourceMappingURL=auth.5ef58fa7.js.map
