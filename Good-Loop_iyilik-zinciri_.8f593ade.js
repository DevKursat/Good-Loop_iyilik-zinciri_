function e(){return window.location.hostname.includes("localhost")||window.location.hostname.includes("127.0.0.1")?"/":"/Good-Loop_iyilik-zinciri_/"}async function t(){try{await getCurrentUser(),window.location.pathname.includes("home.html")||(window.location.href=`${e()}home.html`)}catch(t){window.location.pathname===e()||window.location.pathname===`${e()}index.html`||window.location.pathname.includes("verify.html")||(window.location.href=`${e()}index.html`)}}if(window.location.pathname.includes("verify.html")||t(),window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html")){let t=document.getElementById("auth-container-animated"),n=document.getElementById("register"),a=document.getElementById("login"),o=document.getElementById("show-login-mobile"),i=document.getElementById("show-signup-mobile"),r=document.getElementById("signup-password"),l=document.getElementById("strength-meter-container"),d=document.getElementById("strength-bar"),s=document.getElementById("strength-text"),m=e=>{t&&(e?t.classList.add("active"):t.classList.remove("active"))};n&&n.addEventListener("click",()=>m(!0)),a&&a.addEventListener("click",()=>m(!1)),o&&o.addEventListener("click",e=>{e.preventDefault(),m(!1)}),i&&i.addEventListener("click",e=>{e.preventDefault(),m(!0)}),r&&r.addEventListener("input",()=>{let e=r.value,t=[{regex:/.{8,}/,message:"En az 8 karakter"},{regex:/[A-Z]/,message:"Büyük harf (A-Z)"},{regex:/[a-z]/,message:"Küçük harf (a-z)"},{regex:/[0-9]/,message:"Sayı (0-9)"},{regex:/[!@#$%^&*]/,message:"Özel karakter (!@#$%^&*)"}],n=0,a=null;t.forEach(t=>{t.regex.test(e)?n++:a||(a=t.message)});let o=n/t.length*100;d.style.width=`${o}%`,n===t.length?(s.textContent="Şifre Güçlü",l.classList.add("transformed")):(s.textContent=`${n}/${t.length}: ${a||""}`,l.classList.remove("transformed")),d.classList.remove("weak","medium","strong"),o<40?d.classList.add("weak"):o<80?d.classList.add("medium"):d.classList.add("strong")});let c=document.getElementById("login-form"),u=document.getElementById("signup-form");c&&c.addEventListener("submit",async t=>{t.preventDefault();let n=document.getElementById("login-email").value,a=document.getElementById("login-password").value;try{await signIn({username:n,password:a}),alert("Giriş başarılı!"),window.location.href=`${e()}home.html`}catch(t){console.error("Giriş hatası:",t),"UserNotConfirmedException"===t.name?(alert("Hesabınız doğrulanmamış. Lütfen e-postanızı doğrulayın."),window.location.href=`${e()}verify.html?email=${encodeURIComponent(n)}`):alert(t.message)}}),u&&u.addEventListener("submit",async t=>{t.preventDefault();let n=document.getElementById("signup-email").value,a=document.getElementById("signup-password").value;try{await signUp({username:n,password:a,attributes:{email:n}}),alert("Kayıt başarılı! Lütfen e-postanıza gönderilen doğrulama linkine tıklayın."),window.location.href=`${e()}verify.html?email=${encodeURIComponent(n)}`}catch(e){console.error("Kayıt hatası:",e),alert(e.message)}})}if(window.location.pathname.includes("verify.html")){let t=document.getElementById("verify-form"),n=document.getElementById("verify-email"),a=document.getElementById("verification-code"),o=document.getElementById("resend-code-button"),i=new URLSearchParams(window.location.search).get("email");i&&(n.value=i),t&&t.addEventListener("submit",async t=>{t.preventDefault();let o=n.value,i=a.value;try{await confirmSignUp({username:o,confirmationCode:i}),alert("E-posta başarıyla doğrulandı! Şimdi giriş yapılıyor..."),window.location.href=`${e()}home.html`}catch(e){console.error("Doğrulama hatası:",e),alert(e.message)}}),o&&o.addEventListener("click",async()=>{let e=n.value;if(!e)return void alert("Lütfen e-posta adresinizi girin.");try{await resendSignUpCode({username:e}),alert("Doğrulama kodu tekrar gönderildi.")}catch(e){console.error("Kodu tekrar gönderme hatası:",e),alert(e.message)}})}if(window.location.pathname.includes("home.html")){let t=document.getElementById("logout-button");t&&t.addEventListener("click",async()=>{try{await signOut(),alert("Başarıyla çıkış yapıldı."),window.location.href=`${e()}index.html`}catch(e){console.error("Çıkış yapma hatası:",e),alert(e.message)}})}
//# sourceMappingURL=Good-Loop_iyilik-zinciri_.8f593ade.js.map
